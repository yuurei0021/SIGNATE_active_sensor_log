# Axis Direction Analysis

## 目的
X, Y, Z軸がそれぞれ上下・左右・前後のどの方向に相当するかを、データ分析に基づいて特定する。

## 分析手法

### 1. Idle状態での重力加速度検出
静止状態（idle）では、重力加速度（g≈9.8 m/s²）が垂直方向の軸に現れる。

### 2. 各動作における軸ごとの平均値・標準偏差
- 移動方向（前後）の軸は歩行・走行時に大きな変動を示す
- 横方向（左右）の軸は比較的変動が小さい
- 垂直方向（上下）の軸は階段昇降時に特徴的な変動を示す

### 3. 時系列パターンの視覚的分析
各動作における軸ごとの時系列パターンを比較

## 分析結果

### Idle状態での重力加速度（50サンプル、1,500ポイント）
```
X軸: mean = 0.046,  std = 0.669
Y軸: mean = 2.053,  std = 2.713
Z軸: mean = 9.045,  std = 1.128  ← 重力加速度を検出！
```

### 各動作における軸の平均値（100サンプル）
```
動作         X軸          Y軸           Z軸
running    5.05±3.78    8.16±1.38    1.28±1.71
walking   -3.01±1.78   -9.65±1.00   -1.15±0.94
idle       0.11±0.27    1.75±2.38    9.17±0.85
stairs     0.31±1.83   -9.46±1.13   -1.89±1.07
```

### 各動作における軸の標準偏差（100サンプル平均）
```
動作       X std    Y std    Z std
running    9.13     12.66    6.85
walking    4.24     5.94     6.89
idle       0.35     0.60     0.42
stairs     3.33     4.68     4.87
```

## 結論

### 軸の方向特定

**Z軸 = 上下（垂直方向）**
- 根拠1: Idle状態でZ軸≈9.0 m/s²、重力加速度を検出
- 根拠2: Idle状態でZ軸の標準偏差が小さい（安定）
- 根拠3: 他の動作でもZ軸の平均値が重力の影響を受けている

**Y軸 = 前後（移動方向）**
- 根拠1: Walking/running時にY軸の標準偏差が最大（12.66, 5.94）
- 根拠2: Walking/runningでY軸の平均値が大きく負の値（進行方向が負）
- 根拠3: Stairs昇降でもY軸の変動が顕著（移動を伴うため）

**X軸 = 左右（横方向）**
- 根拠1: 全動作でX軸の標準偏差が比較的小さい
- 根拠2: Idle状態でX軸≈0（横方向の動きなし）
- 根拠3: 消去法的にも左右方向が妥当

### センサーの向き
- Walking/runningでY軸が負の値を示すことから、センサーは**前方向が負**の向きで取り付けられている
- Z軸が正の値を示すことから、**上方向が正**

## 座標系のまとめ

```
         Z+ (上)
         |
         |
         o-------- Y- (前)
        /
       /
     X+ (右)
```

- X軸: 右方向が正
- Y軸: 前方向が負（後ろ方向が正）
- Z軸: 上方向が正

## モデリングへの示唆

1. **方向別の特徴量抽出**
   - Z軸: 重力補正が重要
   - Y軸: 主要な移動成分、周波数解析が有効
   - X軸: 横揺れの検出に有用

2. **クラス別の特徴**
   - Running: Y軸の高周波変動、Z軸の重力からの逸脱
   - Walking: Y軸の中周波変動
   - Idle: 全軸で重力のみ（Z≈9.8）
   - Stairs: Y軸とZ軸の同期的変動

3. **特徴量設計**
   - Z軸から重力成分を減算（Z - 9.8）
   - Y軸の周波数成分解析
   - 軸間の相関係数

## 生成ファイル
- output/01_axis_statistics.png: 軸ごとの統計量比較
- output/02_idle_gravity_analysis.png: Idle状態での重力検出
- output/03_motion_patterns.png: 動作別の時系列パターン
